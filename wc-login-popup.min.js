jQuery(function(i){"use strict";function n(i){i.addClass("error")}function e(i){i.removeClass("error")}i(".open-ignition-wc-login-popup").magnificPopup({type:"inline",mainClass:"ignition-wc-login-popup",midClick:!0}),i(".ignition-wc-login-wrapper .woocommerce-form-login").on("submit",function(a){var o,r=i(this),s=r.siblings(".ignition-wc-login-notices"),d=r.find("#username"),c=r.find("#password"),p=r.find("#rememberme");if(s.find("div").remove(),""===d.val()?(n(d),o=!0):e(d),""===c.val()?(n(c),o=!0):e(c),!0===o)return s.append('<div class="msg failure">'+ignition_wc_popup.fields_required+"</div>"),!1;s.append('<div class="loading">'+ignition_wc_popup.loading_message+"</div>"),s.find(".msg").remove(),i.ajax({type:"POST",dataType:"json",url:ignition_wc_popup.ajax_url,data:{action:"ignition_wc_popup_ajax_login",username:d.val(),password:c.val(),rememberme:p.is(":checked"),nonce:r.find("#woocommerce-login-nonce").val()},success:function(i){s.find(".loading").remove(),!0===i.success?(s.append('<div class="loading">'+i.data.message+"</div>"),!1!==i.data.redirect?window.location=i.data.redirect:window.location.reload()):(!0===i.data.invalid_username?n(d):e(d),!0===i.data.incorrect_password?n(c):e(c),s.append('<div class="msg failure">'+i.data.message+"</div>"))},error:function(){s.append('<div class="msg failure">'+ignition_wc_popup.ajax_error+"</div>")}}),a.preventDefault()})});