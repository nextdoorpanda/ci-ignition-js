jQuery(function(e){"use strict";function t(e,t){if(!t.error){var a=e.find(".theme-weather-temperature-value"),n=e.find(".theme-weather-temperature-unit"),o=e.find(".theme-weather-location");a.html(Math.round(t.temperature)),n.html(t.units_symbol),o.html(t.location_formatted)}}e(".theme-weather").each(function(){var a=e(this),n=a.data("location-id"),o=a.data("units"),i="ignition-weather-data-"+o+"-"+n,r=i+"-fetch-time",l=Date.now(),c=localStorage.getItem(r),h=JSON.parse(localStorage.getItem(i));h&&t(a,h),(null===c||l-parseInt(c)>3e5)&&e.ajax({url:ignition_weather_vars.ajaxurl,data:{action:"ignition_get_weather_conditions",weather_nonce:ignition_weather_vars.weather_nonce,location_id:n,units:o},dataType:"json",cache:!1}).done(function(e){localStorage.setItem(r,Date.now()),localStorage.setItem(i,JSON.stringify(e)),t(a,e)}).fail(function(e){console.error("Ignition weather module :: ",e.responseText)})})});