jQuery(document).ready(function(i){function n(){var n=i("#ignition_event_is_recurring"),t=i(".ignition-event-meta-fields-recurring"),e=i(".ignition-event-meta-fields-dated");n.prop("checked")?(t.show(),e.hide()):(t.hide(),e.show())}function t(n){return n.parents(".ignition-meta-tabs").find("> .ignition-meta-tabs-nav").find(".ignition-meta-tabs-nav-item-active").map(function(){return i(this).index()}).get().reduce(function(i,n){return i+l+n})}function e(n){i("#ignition_current_active_tab").val(n)}function a(i){if(window.URLSearchParams){return new URLSearchParams(window.location.search).get(i)}}function o(n,t){var e=n.closest(".ignition-setting-control"),a=e.find(".ignition-alert");if(a.length>0)return void a.text(t);var o=i("<div />",{class:"ignition-alert ignition-alert-danger",text:t});e.prepend(o)}function r(i){var n=i.closest(".ignition-setting-control");n.find(".ignition-alert").length>0&&n.find(".ignition-alert").remove()}function c(){var n=i(this),t=n.val(),e=n.parents(".ignition-repeatable-row").find(".ignition-hook-input-hook");"custom"===t?e.fadeIn("fast"):e.fadeOut("fast")}var s=i("body");if(i.isFunction(i.fn.datepicker)){i(".ignition-datepicker").each(function(){i(this).datepicker({dateFormat:"yy-mm-dd"})})}if(s.on("change","#ignition_event_is_recurring",n),n(),i.isFunction(i.fn.wpColorPicker)){i(".ignition-color-picker").each(function(){i(this).wpColorPicker()})}var l="_";i(".ignition-meta-tabs").each(function(){var n=i(this),a=n.find(".ignition-meta-tabs-nav").first().find(".ignition-meta-tabs-nav-item"),o=n.children(".ignition-meta-tabs-content");a.on("click",function(n){n.preventDefault();var a=i(this),r=a.index(),c=o.eq(r);c.length&&!c.is(":visible")&&(a.addClass("ignition-meta-tabs-nav-item-active").siblings().removeClass("ignition-meta-tabs-nav-item-active"),o.hide(),c.fadeIn("fast"),"object"==typeof google&&"object"==typeof google.maps&&c.find(".gllpLatlonPicker").length>0&&google.maps.event.trigger(window,"resize",{}),e(t(a)))})}),function(){function n(i,t){var e=t[0];if(e&&i){var a=i.find(".ignition-meta-tabs-nav").first().find(".ignition-meta-tabs-nav-item"),o=i.find(".ignition-meta-tabs").eq(e);a.eq(e).trigger("click"),n(o,t.slice(1))}}var t=a("ignition_tabs"),e=i(".ignition-meta-tabs").first();t&&(n(e,t.split(l)),e.removeClass("loading"))}(),i(".ignition-setting-control").on("change keyup",'[type="number"]',function(){var n=i(this),t=parseFloat(n.attr("min")),e=parseFloat(n.attr("max")),a=parseFloat(n.val());if(a<t||a>e)return o(n,"Please enter a value between "+t+" and "+e+"."),a<t&&n.val(t),void(a>e&&n.val(e));r(n)});var g=i(".ignition-repeatable-add-button"),f=i(".ignition-repeatable-row-dismiss"),d=i(".ignition-hook-select-type"),v=i(".ignition-hook-select-location");if(window.IgnitionGlobalSection){var u=window.IgnitionGlobalSection.includes;d.on("change",function(){var n=i(this),t=n.val(),e=u.find(function(i){return i.option_value===t}),a=n.parents(".ignition-repeatable-row").find(".ignition-hook-select-entry");if(e&&e.entries){var o=e.entries.map(function(n){return i("<option />",{value:n.option_value}).text(n.name)});a.html("").append(o).parent().fadeIn("fast")}else a.html("").parent().hide()})}v.on("change",c),v.each(c),g.each(function(){var n=i(this);n.on("click",function(t){t.preventDefault();var e=n.parent(),a=e.find(".ignition-repeatable-fields"),o=e.find(".ignition-repeatable-template").clone(!0).removeClass("ignition-repeatable-template"),r=o.find('[name*="__id__"]'),c=(1e17*Math.random()).toString();r.each(function(){var n=i(this);n.attr("name",n.attr("name").replace("__id__",c))}),a.append(o)})}),f.on("click",function(n){n.preventDefault(),i(this).parent().remove()})});